{"version":3,"file":"intCV.esm.js","sources":["../../../src/clarity/types/intCV.ts"],"sourcesContent":["import BigNum from 'bn.js';\nimport { CLARITY_INT_SIZE } from '../../constants';\nimport { ClarityType } from '../clarityValue';\n\ninterface IntCV {\n  readonly type: ClarityType.Int;\n  readonly value: BigNum;\n}\n\nconst intCV = (value: number | string | Buffer): IntCV => {\n  const bn = new BigNum(value);\n  const twos = bn.toTwos(CLARITY_INT_SIZE);\n\n  if (twos.bitLength() > CLARITY_INT_SIZE) {\n    throw new Error('Cannot construct clarity integer from value greater than INT_SIZE bits');\n  }\n\n  return { type: ClarityType.Int, value: twos };\n};\n\ninterface UIntCV {\n  readonly type: ClarityType.UInt;\n  readonly value: BigNum;\n}\n\nconst uintCV = (value: number | string | Buffer): UIntCV => {\n  const bn = new BigNum(value);\n  const twos = bn.toTwos(CLARITY_INT_SIZE);\n\n  if (twos.isNeg()) {\n    throw new Error('Cannot construct unsigned clarity integer from negative value');\n  } else if (twos.bitLength() > CLARITY_INT_SIZE) {\n    throw new Error('Cannot construct unsigned clarity integer from value greater than 128 bits');\n  }\n\n  return { type: ClarityType.UInt, value: twos };\n};\n\nexport { IntCV, UIntCV, intCV, uintCV };\n"],"names":["intCV","value","bn","BigNum","twos","toTwos","CLARITY_INT_SIZE","bitLength","Error","type","ClarityType","Int","uintCV","isNeg","UInt"],"mappings":";;;;IASMA,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD;AACZ,MAAMC,EAAE,GAAG,IAAIC,MAAJ,CAAWF,KAAX,CAAX;AACA,MAAMG,IAAI,GAAGF,EAAE,CAACG,MAAH,CAAUC,gBAAV,CAAb;;AAEA,MAAIF,IAAI,CAACG,SAAL,KAAmBD,gBAAvB,EAAyC;AACvC,UAAM,IAAIE,KAAJ,CAAU,wEAAV,CAAN;AACD;;AAED,SAAO;AAAEC,IAAAA,IAAI,EAAEC,WAAW,CAACC,GAApB;AAAyBV,IAAAA,KAAK,EAAEG;AAAhC,GAAP;AACD;;IAOKQ,MAAM,GAAG,SAATA,MAAS,CAACX,KAAD;AACb,MAAMC,EAAE,GAAG,IAAIC,MAAJ,CAAWF,KAAX,CAAX;AACA,MAAMG,IAAI,GAAGF,EAAE,CAACG,MAAH,CAAUC,gBAAV,CAAb;;AAEA,MAAIF,IAAI,CAACS,KAAL,EAAJ,EAAkB;AAChB,UAAM,IAAIL,KAAJ,CAAU,+DAAV,CAAN;AACD,GAFD,MAEO,IAAIJ,IAAI,CAACG,SAAL,KAAmBD,gBAAvB,EAAyC;AAC9C,UAAM,IAAIE,KAAJ,CAAU,4EAAV,CAAN;AACD;;AAED,SAAO;AAAEC,IAAAA,IAAI,EAAEC,WAAW,CAACI,IAApB;AAA0Bb,IAAAA,KAAK,EAAEG;AAAjC,GAAP;AACD;;;;"}