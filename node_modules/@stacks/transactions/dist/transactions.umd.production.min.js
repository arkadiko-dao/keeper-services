!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("sha.js"),require("elliptic"),require("c32check"),require("bn.js"),require("smart-buffer"),require("ripemd160-min"),require("randombytes"),require("cross-fetch"),require("lodash-es/cloneDeep"),require("@stacks/network"),require("@stacks/common")):"function"==typeof define&&define.amd?define(["exports","sha.js","elliptic","c32check","bn.js","smart-buffer","ripemd160-min","randombytes","cross-fetch","lodash-es/cloneDeep","@stacks/network","@stacks/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@stacks/transactions"]={},e.sha_js,e.elliptic,e.c32check,e.BigNum,e.smartBuffer,e.RIPEMD160,e.randomBytes,e.fetch,e.lodashCloneDeep,e.network,e.common)}(this,(function(e,t,n,r,i,a,o,s,u,c,p,d){"use strict";function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l,y=f(i),h=f(o),g=f(s),T=f(u),C=f(c);(l=e.ChainID||(e.ChainID={}))[l.Testnet=2147483648]="Testnet",l[l.Mainnet=1]="Mainnet";var S,b,v,w,m=e.ChainID.Mainnet;(S=e.StacksMessageType||(e.StacksMessageType={}))[S.Address=0]="Address",S[S.Principal=1]="Principal",S[S.LengthPrefixedString=2]="LengthPrefixedString",S[S.MemoString=3]="MemoString",S[S.AssetInfo=4]="AssetInfo",S[S.PostCondition=5]="PostCondition",S[S.PublicKey=6]="PublicKey",S[S.LengthPrefixedList=7]="LengthPrefixedList",S[S.Payload=8]="Payload",S[S.MessageSignature=9]="MessageSignature",S[S.TransactionAuthField=10]="TransactionAuthField",(b=e.PayloadType||(e.PayloadType={}))[b.TokenTransfer=0]="TokenTransfer",b[b.SmartContract=1]="SmartContract",b[b.ContractCall=2]="ContractCall",b[b.PoisonMicroblock=3]="PoisonMicroblock",b[b.Coinbase=4]="Coinbase",(v=e.AnchorMode||(e.AnchorMode={}))[v.OnChainOnly=1]="OnChainOnly",v[v.OffChainOnly=2]="OffChainOnly",v[v.Any=3]="Any",(w=e.TransactionVersion||(e.TransactionVersion={}))[w.Mainnet=0]="Mainnet",w[w.Testnet=128]="Testnet";var A,P,k,x,B,E,M,I,O,N,U,F=e.TransactionVersion.Mainnet;function L(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){L(a,r,i,o,s,"next",e)}function s(e){L(a,r,i,o,s,"throw",e)}o(void 0)}))}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function G(e,t,n){return(G=D()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&j(i,n.prototype),i}).apply(null,arguments)}function q(e){var t="function"==typeof Map?new Map:void 0;return(q=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return G(e,arguments,V(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),j(n,e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Y(e,t){return e(t={exports:{}},t.exports),t.exports}(A=e.PostConditionMode||(e.PostConditionMode={}))[A.Allow=1]="Allow",A[A.Deny=2]="Deny",(P=e.PostConditionType||(e.PostConditionType={}))[P.STX=0]="STX",P[P.Fungible=1]="Fungible",P[P.NonFungible=2]="NonFungible",(k=e.AuthType||(e.AuthType={}))[k.Standard=4]="Standard",k[k.Sponsored=5]="Sponsored",(x=e.AddressHashMode||(e.AddressHashMode={}))[x.SerializeP2PKH=0]="SerializeP2PKH",x[x.SerializeP2SH=1]="SerializeP2SH",x[x.SerializeP2WPKH=2]="SerializeP2WPKH",x[x.SerializeP2WSH=3]="SerializeP2WSH",(B=e.AddressVersion||(e.AddressVersion={}))[B.MainnetSingleSig=22]="MainnetSingleSig",B[B.MainnetMultiSig=20]="MainnetMultiSig",B[B.TestnetSingleSig=26]="TestnetSingleSig",B[B.TestnetMultiSig=21]="TestnetMultiSig",(E=e.PubKeyEncoding||(e.PubKeyEncoding={}))[E.Compressed=0]="Compressed",E[E.Uncompressed=1]="Uncompressed",(M=e.FungibleConditionCode||(e.FungibleConditionCode={}))[M.Equal=1]="Equal",M[M.Greater=2]="Greater",M[M.GreaterEqual=3]="GreaterEqual",M[M.Less=4]="Less",M[M.LessEqual=5]="LessEqual",(I=e.NonFungibleConditionCode||(e.NonFungibleConditionCode={}))[I.DoesNotOwn=16]="DoesNotOwn",I[I.Owns=17]="Owns",(O=e.PostConditionPrincipalID||(e.PostConditionPrincipalID={}))[O.Origin=1]="Origin",O[O.Standard=2]="Standard",O[O.Contract=3]="Contract",(N=e.AssetType||(e.AssetType={}))[N.STX=0]="STX",N[N.Fungible=1]="Fungible",N[N.NonFungible=2]="NonFungible",(U=e.TxRejectedReason||(e.TxRejectedReason={})).Serialization="Serialization",U.Deserialization="Deserialization",U.SignatureValidation="SignatureValidation",U.FeeTooLow="FeeTooLow",U.BadNonce="BadNonce",U.NotEnoughFunds="NotEnoughFunds",U.NoSuchContract="NoSuchContract",U.NoSuchPublicFunction="NoSuchPublicFunction",U.BadFunctionArgument="BadFunctionArgument",U.ContractAlreadyExists="ContractAlreadyExists",U.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",U.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",U.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",U.BadAddressVersionByte="BadAddressVersionByte",U.NoCoinbaseViaMempool="NoCoinbaseViaMempool",U.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",U.ServerFailureDatabase="ServerFailureDatabase",U.ServerFailureOther="ServerFailureOther";var $=Y((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=Object.create((t&&t.prototype instanceof d?t:d).prototype),a=new m(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function d(){}function f(){}function l(){}var y={};y[i]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(A([])));g&&g!==t&&n.call(g,i)&&(y=g);var T=l.prototype=d.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var p=u.arg,d=p.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){p.value=e,o(p)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=T.constructor=l,l.constructor=f,f.displayName=s(l,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,s(e,o,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(T),s(T,o,"Generator"),T[i]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));function Z(t,n){return void 0===n&&(n=e.TransactionVersion.Mainnet),t="string"==typeof t?t:t.toString("hex"),Ue(Ie(Oe(e.AddressHashMode.SerializeP2PKH,n),Vt(Buffer.from(t,"hex"))))}function Q(t){return{type:e.StacksMessageType.PublicKey,data:Buffer.from(t,"hex")}}function ee(t,r,i){void 0===i&&(i=e.PubKeyEncoding.Compressed);var a=new n.ec("secp256k1"),o=a.keyFromPrivate(t,"hex").getPrivate().toString(10),s=pe(r.data),u=a.recoverPubKey(o,s,s.recoveryParam,"hex");return i==e.PubKeyEncoding.Uncompressed?u.encode("hex"):u.encodeCompressed("hex")}function te(t){return{type:e.StacksMessageType.PublicKey,data:t}}function ne(e){return!e.data.toString("hex").startsWith("04")}function re(e){return e.data.toString("hex")}function ie(e){var t=new Mt;return t.push(e.data),t.concatBuffer()}function ae(e){var t=ue(e);return Q(new n.ec("secp256k1").keyFromPrivate(t.data.toString("hex").slice(0,64),"hex").getPublic(t.compressed,"hex"))}function oe(e){return Q(new n.ec("secp256k1").keyFromPublic(e).getPublic(!0,"hex"))}function se(e){var t=e.readUInt8(),n=4!==t?32:64;return te(Buffer.concat([Buffer.from([t]),e.readBuffer(n)]))}function ue(e){var t,n="string"==typeof e?Buffer.from(e,"hex"):e;if(33===n.length){if(1!==n[n.length-1])throw new Error("Improperly formatted private-key. 33 byte length usually indicates compressed key, but last byte must be == 0x01");t=!0}else{if(32!==n.length)throw new Error("Improperly formatted private-key hex string: length should be 32 or 33 bytes, provided with length "+n.length);t=!1}return{data:n,compressed:t}}function ce(e,t){var r=new n.ec("secp256k1").keyFromPrivate(e.data.toString("hex").slice(0,64),"hex").sign(t,"hex",{canonical:!0}),i=Ot(r.r.toString("hex"),64),a=Ot(r.s.toString("hex"),64);if(null==r.recoveryParam)throw new Error('"signature.recoveryParam" is not set');return $t(Ut(r.recoveryParam,1)+i+a)}function pe(e){if(e.length<129)throw new Error("Invalid signature");var t=e.substr(0,2),n=e.substr(2,64),r=e.substr(66,64);return{recoveryParam:Ft(t),r:n,s:r}}function de(e){return ae(e.data)}function fe(e,t){return r.c32address(e,Rt(t.data).toString("hex"))}var le,ye=function(e){function t(t){var n;return(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(J(n),n.constructor),n}return R(t,e),t}(q(Error)),he=function(e){function t(t){var n;return(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(J(n),n.constructor),n}return R(t,e),t}(q(Error)),ge=function(e){function t(t){var n;return(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(J(n),n.constructor),n}return R(t,e),t}(q(Error)),Te=function(e){function t(t){var n;return(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(J(n),n.constructor),n}return R(t,e),t}(q(Error));function Ce(t,n,r){return"string"==typeof t&&(t=Ke(t)),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.STX,principal:t,conditionCode:n,amount:r}}function Se(t,n,r,i){return"string"==typeof t&&(t=Ke(t)),"string"==typeof i&&(i=Xe(i)),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.Fungible,principal:t,conditionCode:n,amount:r,assetInfo:i}}function be(t,n,r,i){return"string"==typeof t&&(t=Ke(t)),"string"==typeof r&&(r=Xe(r)),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.NonFungible,principal:t,conditionCode:n,assetInfo:r,assetName:i}}function ve(t){var n=new Mt;return n.appendByte(t.conditionType),n.push(_e(t.principal)),t.conditionType!==e.PostConditionType.Fungible&&t.conditionType!==e.PostConditionType.NonFungible||n.push($e(t.assetInfo)),t.conditionType===e.PostConditionType.NonFungible&&n.push(kt(t.assetName)),n.appendByte(t.conditionCode),t.conditionType!==e.PostConditionType.STX&&t.conditionType!==e.PostConditionType.Fungible||n.push(t.amount.toArrayLike(Buffer,"be",8)),n.concatBuffer()}function we(t){var n,r,i,a=t.readUInt8Enum(e.PostConditionType,(function(e){throw new he("Could not read "+e+" as PostConditionType")})),o=Re(t);switch(a){case e.PostConditionType.STX:return n=t.readUInt8Enum(e.FungibleConditionCode,(function(e){throw new he("Could not read "+e+" as FungibleConditionCode")})),i=new y.default(t.readBuffer(8).toString("hex"),16),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.STX,principal:o,conditionCode:n,amount:i};case e.PostConditionType.Fungible:return r=Ze(t),n=t.readUInt8Enum(e.FungibleConditionCode,(function(e){throw new he("Could not read "+e+" as FungibleConditionCode")})),i=new y.default(t.readBuffer(8).toString("hex"),16),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.Fungible,principal:o,conditionCode:n,amount:i,assetInfo:r};case e.PostConditionType.NonFungible:r=Ze(t);var s=Et(t);return n=t.readUInt8Enum(e.NonFungibleConditionCode,(function(e){throw new he("Could not read "+e+" as FungibleConditionCode")})),{type:e.StacksMessageType.PostCondition,conditionType:e.PostConditionType.NonFungible,principal:o,conditionCode:n,assetInfo:r,assetName:s}}}function me(t,n,r){var i;return"string"==typeof t&&(t=function(e){if(e.includes(".")){var t=e.split(".");return at(t[0],t[1])}return rt(e)}(t)),"string"==typeof r&&(r=qe(r)),{type:e.StacksMessageType.Payload,payloadType:e.PayloadType.TokenTransfer,recipient:t,amount:n,memo:null!=(i=r)?i:qe("")}}function Ae(t,n,r,i){return"string"==typeof t&&(t=Ee(t)),"string"==typeof n&&(n=Ve(n)),"string"==typeof r&&(r=Ve(r)),{type:e.StacksMessageType.Payload,payloadType:e.PayloadType.ContractCall,contractAddress:t,contractName:n,functionName:r,functionArgs:i}}function Pe(t,n){return"string"==typeof t&&(t=Ve(t)),"string"==typeof n&&(n=Ge(n)),{type:e.StacksMessageType.Payload,payloadType:e.PayloadType.SmartContract,contractName:t,codeBody:n}}function ke(t){var n=new Mt;switch(n.appendByte(t.payloadType),t.payloadType){case e.PayloadType.TokenTransfer:n.push(kt(t.recipient)),n.push(t.amount.toArrayLike(Buffer,"be",8)),n.push(Be(t.memo));break;case e.PayloadType.ContractCall:n.push(Be(t.contractAddress)),n.push(Be(t.contractName)),n.push(Be(t.functionName));var r=Buffer.alloc(4);r.writeUInt32BE(t.functionArgs.length,0),n.push(r),t.functionArgs.forEach((function(e){n.push(kt(e))}));break;case e.PayloadType.SmartContract:n.push(Be(t.contractName)),n.push(Be(t.codeBody));break;case e.PayloadType.PoisonMicroblock:break;case e.PayloadType.Coinbase:n.push(t.coinbaseBuffer)}return n.concatBuffer()}function xe(t){switch(t.readUInt8Enum(e.PayloadType,(function(e){throw new Error("Cannot recognize PayloadType: "+e)}))){case e.PayloadType.TokenTransfer:return me(Et(t),new y.default(t.readBuffer(8)),We(t));case e.PayloadType.ContractCall:for(var n=Le(t),r=De(t),i=De(t),a=[],o=t.readUInt32BE(),s=0;s<o;s++){var u=Et(t);a.push(u)}return Ae(n,r,i,a);case e.PayloadType.SmartContract:return Pe(De(t),De(t,4,1e5));case e.PayloadType.PoisonMicroblock:return{type:e.StacksMessageType.Payload,payloadType:e.PayloadType.PoisonMicroblock};case e.PayloadType.Coinbase:return function(t){if(32!=t.byteLength)throw Error("Coinbase buffer size must be 32 bytes");return{type:e.StacksMessageType.Payload,payloadType:e.PayloadType.Coinbase,coinbaseBuffer:t}}(t.readBuffer(32))}}function Be(t){switch(t.type){case e.StacksMessageType.Address:return Fe(t);case e.StacksMessageType.Principal:return _e(t);case e.StacksMessageType.LengthPrefixedString:return je(t);case e.StacksMessageType.MemoString:return Je(t);case e.StacksMessageType.AssetInfo:return $e(t);case e.StacksMessageType.PostCondition:return ve(t);case e.StacksMessageType.PublicKey:return ie(t);case e.StacksMessageType.LengthPrefixedList:return et(t);case e.StacksMessageType.Payload:return ke(t);case e.StacksMessageType.TransactionAuthField:return nn(t);case e.StacksMessageType.MessageSignature:return Qt(t)}}function Ee(t){var n=r.c32addressDecode(t);return{type:e.StacksMessageType.Address,version:n[0],hash160:n[1]}}function Me(){return{type:e.StacksMessageType.Address,version:e.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}function Ie(t,n){return{type:e.StacksMessageType.Address,version:t,hash160:n}}function Oe(t,n){switch(t){case e.AddressHashMode.SerializeP2PKH:switch(n){case e.TransactionVersion.Mainnet:return e.AddressVersion.MainnetSingleSig;case e.TransactionVersion.Testnet:return e.AddressVersion.TestnetSingleSig;default:throw new Error("Unexpected txVersion "+JSON.stringify(n)+" for hashMode "+t)}case e.AddressHashMode.SerializeP2SH:case e.AddressHashMode.SerializeP2WPKH:case e.AddressHashMode.SerializeP2WSH:switch(n){case e.TransactionVersion.Mainnet:return e.AddressVersion.MainnetMultiSig;case e.TransactionVersion.Testnet:return e.AddressVersion.TestnetMultiSig;default:throw new Error("Unexpected txVersion "+JSON.stringify(n)+" for hashMode "+t)}default:throw new Error("Unexpected hashMode "+JSON.stringify(t))}}function Ne(t,n,r,i){if(0===i.length)throw Error("Invalid number of public keys");if(!(n!==e.AddressHashMode.SerializeP2PKH&&n!==e.AddressHashMode.SerializeP2WPKH||1===i.length&&1===r))throw Error("Invalid number of public keys or signatures");if(n===e.AddressHashMode.SerializeP2WPKH||n===e.AddressHashMode.SerializeP2WSH)for(var a=0;a<i.length;a++)if(!ne(i[a]))throw Error("Public keys must be compressed for segwit");switch(n){case e.AddressHashMode.SerializeP2PKH:return Ie(t,Vt(i[0].data));case e.AddressHashMode.SerializeP2SH:return Ie(t,jt(r,i.map(ie)));default:throw Error("Not yet implemented: address construction using public keys for hash mode: "+n)}}function Ue(e){return r.c32address(e.version,e.hash160).toString()}function Fe(e){var t=new Mt;return t.appendHexString(Ut(e.version,1)),t.appendHexString(e.hash160),t.concatBuffer()}function Le(t){var n=Ft(t.readBuffer(1).toString("hex")),r=t.readBuffer(20).toString("hex");return{type:e.StacksMessageType.Address,version:n,hash160:r}}function Ke(e){if(e.includes(".")){var t=e.split(".");return ze(t[0],t[1])}return He(e)}function He(t){var n=Ee(t);return{type:e.StacksMessageType.Principal,prefix:e.PostConditionPrincipalID.Standard,address:n}}function ze(t,n){var r=Ee(t),i=Ve(n);return{type:e.StacksMessageType.Principal,prefix:e.PostConditionPrincipalID.Contract,address:r,contractName:i}}function _e(t){var n=new Mt;return n.push(Buffer.from([t.prefix])),n.push(Fe(t.address)),t.prefix===e.PostConditionPrincipalID.Contract&&n.push(je(t.contractName)),n.concatBuffer()}function Re(t){var n=t.readUInt8Enum(e.PostConditionPrincipalID,(function(e){throw new he("Unexpected Principal payload type: ${n}")})),r=Le(t);if(n===e.PostConditionPrincipalID.Standard)return{type:e.StacksMessageType.Principal,prefix:n,address:r};var i=De(t);return{type:e.StacksMessageType.Principal,prefix:n,address:r,contractName:i}}function Ve(t,n,r){var i=n||1,a=r||128;if(Lt(t,a))throw new Error("String length exceeds maximum bytes "+a.toString());return{type:e.StacksMessageType.LengthPrefixedString,content:t,lengthPrefixBytes:i,maxLengthBytes:a}}function je(e){var t=new Mt,n=Buffer.from(e.content);return t.appendHexString(Ut(n.byteLength,e.lengthPrefixBytes)),t.push(n),t.concatBuffer()}function De(e,t,n){var r=Ft(e.readBuffer(t=t||1).toString("hex"));return Ve(e.readBuffer(r).toString(),t,null!=n?n:128)}function Ge(e){return Ve(e,4,1e5)}function qe(t){if(t&&Lt(t,34))throw new Error("Memo exceeds maximum length of "+34..toString()+" bytes");return{type:e.StacksMessageType.MemoString,content:t}}function Je(e){var t=new Mt,n=Buffer.from(e.content),r=Nt(n.toString("hex"),68);return t.push(Buffer.from(r,"hex")),t.concatBuffer()}function We(t){var n=t.readBuffer(34).toString();return{type:e.StacksMessageType.MemoString,content:n}}function Xe(e){var t=e.split(/\.|::/);return Ye(t[0],t[1],t[2])}function Ye(t,n,r){return{type:e.StacksMessageType.AssetInfo,address:Ee(t),contractName:Ve(n),assetName:Ve(r)}}function $e(e){var t=new Mt;return t.push(Fe(e.address)),t.push(je(e.contractName)),t.push(je(e.assetName)),t.concatBuffer()}function Ze(t){return{type:e.StacksMessageType.AssetInfo,address:Le(t),contractName:De(t),assetName:De(t)}}function Qe(t,n){return{type:e.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:n||4,values:t}}function et(e){var t=e.values,n=new Mt;n.appendHexString(Ut(t.length,e.lengthPrefixBytes));for(var r=0;r<t.length;r++)n.push(Be(t[r]));return n.concatBuffer()}function tt(t,n,r){for(var i=Ft(t.readBuffer(r||4).toString("hex")),a=[],o=0;o<i;o++)switch(n){case e.StacksMessageType.Address:a.push(Le(t));break;case e.StacksMessageType.LengthPrefixedString:a.push(De(t));break;case e.StacksMessageType.MemoString:a.push(We(t));break;case e.StacksMessageType.AssetInfo:a.push(Ze(t));break;case e.StacksMessageType.PostCondition:a.push(we(t));break;case e.StacksMessageType.PublicKey:a.push(se(t));break;case e.StacksMessageType.TransactionAuthField:a.push(rn(t))}return Qe(a,r)}function nt(t){if(t.type===e.ClarityType.PrincipalStandard)return Ue(t.address);if(t.type===e.ClarityType.PrincipalContract)return Ue(t.address)+"."+t.contractName.content;throw new Error("Unexpected principal data: "+JSON.stringify(t))}function rt(t){var n=Ee(t);return{type:e.ClarityType.PrincipalStandard,address:n}}function it(t){return{type:e.ClarityType.PrincipalStandard,address:t}}function at(e,t){return ot(Ee(e),Ve(t))}function ot(t,n){if(Buffer.byteLength(n.content)>=128)throw new Error("Contract name must be less than 128 bytes");return{type:e.ClarityType.PrincipalContract,address:t,contractName:n}}function st(t){switch(t.type){case e.ClarityType.BoolTrue:return!0;case e.ClarityType.BoolFalse:return!1;case e.ClarityType.Int:return t.value.fromTwos(128).toNumber();case e.ClarityType.UInt:return t.value.toNumber();case e.ClarityType.Buffer:return"0x"+t.buffer.toString("hex");case e.ClarityType.OptionalNone:return null;case e.ClarityType.OptionalSome:case e.ClarityType.ResponseErr:case e.ClarityType.ResponseOk:return ut(t.value);case e.ClarityType.PrincipalStandard:case e.ClarityType.PrincipalContract:return nt(t);case e.ClarityType.List:return t.list.map((function(e){return ut(e)}));case e.ClarityType.Tuple:var n={};return Object.keys(t.data).forEach((function(e){n[e]=ut(t.data[e])})),n;case e.ClarityType.StringASCII:case e.ClarityType.StringUTF8:return t.data}}function ut(t){switch(t.type){case e.ClarityType.ResponseErr:return{type:ct(t),value:st(t),success:!1};case e.ClarityType.ResponseOk:return{type:ct(t),value:st(t),success:!0};default:return{type:ct(t),value:st(t)}}}function ct(t){switch(t.type){case e.ClarityType.BoolTrue:case e.ClarityType.BoolFalse:return"bool";case e.ClarityType.Int:return"int";case e.ClarityType.UInt:return"uint";case e.ClarityType.Buffer:return"(buff "+t.buffer.length+")";case e.ClarityType.OptionalNone:return"(optional none)";case e.ClarityType.OptionalSome:return"(optional "+ct(t.value)+")";case e.ClarityType.ResponseErr:return"(response UnknownType "+ct(t.value)+")";case e.ClarityType.ResponseOk:return"(response "+ct(t.value)+" UnknownType)";case e.ClarityType.PrincipalStandard:case e.ClarityType.PrincipalContract:return"principal";case e.ClarityType.List:return"(list "+t.list.length+" "+ct(t.list[0])+")";case e.ClarityType.Tuple:return"(tuple "+Object.keys(t.data).map((function(e){return"("+e+" "+ct(t.data[e])+")"})).join(" ")+")";case e.ClarityType.StringASCII:return"(string-ascii "+Buffer.from(t.data,"ascii").length+")";case e.ClarityType.StringUTF8:return"(string-utf8 "+Buffer.from(t.data,"utf8").length+")"}}(le=e.ClarityType||(e.ClarityType={}))[le.Int=0]="Int",le[le.UInt=1]="UInt",le[le.Buffer=2]="Buffer",le[le.BoolTrue=3]="BoolTrue",le[le.BoolFalse=4]="BoolFalse",le[le.PrincipalStandard=5]="PrincipalStandard",le[le.PrincipalContract=6]="PrincipalContract",le[le.ResponseOk=7]="ResponseOk",le[le.ResponseErr=8]="ResponseErr",le[le.OptionalNone=9]="OptionalNone",le[le.OptionalSome=10]="OptionalSome",le[le.List=11]="List",le[le.Tuple=12]="Tuple",le[le.StringASCII=13]="StringASCII",le[le.StringUTF8=14]="StringUTF8";var pt=function(){return{type:e.ClarityType.BoolTrue}},dt=function(){return{type:e.ClarityType.BoolFalse}},ft=function(t){var n=new y.default(t).toTwos(128);if(n.bitLength()>128)throw new Error("Cannot construct clarity integer from value greater than INT_SIZE bits");return{type:e.ClarityType.Int,value:n}},lt=function(t){var n=new y.default(t).toTwos(128);if(n.isNeg())throw new Error("Cannot construct unsigned clarity integer from negative value");if(n.bitLength()>128)throw new Error("Cannot construct unsigned clarity integer from value greater than 128 bits");return{type:e.ClarityType.UInt,value:n}},yt=function(t){if(t.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:e.ClarityType.Buffer,buffer:t}},ht=function(e){return yt(Buffer.from(e))},gt=function(){return{type:e.ClarityType.OptionalNone}},Tt=function(t){return{type:e.ClarityType.OptionalSome,value:t}};function Ct(t){return{type:e.ClarityType.ResponseErr,value:t}}function St(t){return{type:e.ClarityType.ResponseOk,value:t}}function bt(t){return{type:e.ClarityType.List,list:t}}function vt(t){for(var n in t)if(!Dt(n))throw new Error('"'+n+'" is not a valid Clarity name');return{type:e.ClarityType.Tuple,data:t}}var wt=function(t){return{type:e.ClarityType.StringASCII,data:t}},mt=function(t){return{type:e.ClarityType.StringUTF8,data:t}};function At(e,t){var n=Buffer.from([e]);return Buffer.concat([n,t])}function Pt(e,t){var n=new Mt,r=Buffer.from(e.data,t),i=Buffer.alloc(4);return i.writeUInt32BE(r.length,0),n.push(i),n.push(r),At(e.type,n.concatBuffer())}function kt(t){switch(t.type){case e.ClarityType.BoolTrue:case e.ClarityType.BoolFalse:return function(e){return Buffer.from([e.type])}(t);case e.ClarityType.OptionalNone:case e.ClarityType.OptionalSome:return(n=t).type===e.ClarityType.OptionalNone?Buffer.from([n.type]):At(n.type,kt(n.value));case e.ClarityType.Buffer:return function(e){var t=Buffer.alloc(4);return t.writeUInt32BE(e.buffer.length,0),At(e.type,Buffer.concat([t,e.buffer]))}(t);case e.ClarityType.Int:case e.ClarityType.UInt:return function(e){var t=e.value.toArrayLike(Buffer,"be",16);return At(e.type,t)}(t);case e.ClarityType.PrincipalStandard:return function(e){return At(e.type,Fe(e.address))}(t);case e.ClarityType.PrincipalContract:return function(e){return At(e.type,Buffer.concat([Fe(e.address),je(e.contractName)]))}(t);case e.ClarityType.ResponseOk:case e.ClarityType.ResponseErr:return function(e){return At(e.type,kt(e.value))}(t);case e.ClarityType.List:return function(e){var t=new Mt,n=Buffer.alloc(4);n.writeUInt32BE(e.list.length,0),t.push(n);for(var r,i=X(e.list);!(r=i()).done;){var a=kt(r.value);t.push(a)}return At(e.type,t.concatBuffer())}(t);case e.ClarityType.Tuple:return function(e){var t=new Mt,n=Buffer.alloc(4);n.writeUInt32BE(Object.keys(e.data).length,0),t.push(n);for(var r,i=X(Object.keys(e.data).sort((function(e,t){var n=Buffer.from(e),r=Buffer.from(t);return n.compare(r)})));!(r=i()).done;){var a=r.value,o=Ve(a);t.push(je(o));var s=kt(e.data[a]);t.push(s)}return At(e.type,t.concatBuffer())}(t);case e.ClarityType.StringASCII:return function(e){return Pt(e,"ascii")}(t);case e.ClarityType.StringUTF8:return function(e){return Pt(e,"utf8")}(t);default:throw new ye("Unable to serialize. Invalid Clarity Value.")}var n}var xt=new Map,Bt=function(){function e(e){this.smartBuffer=Buffer.isBuffer(e)?new a.SmartBuffer({buff:e}):new a.SmartBuffer(e)}e.fromBuffer=function(t){return new e({buff:t})};var t=e.prototype;return t.readBuffer=function(e){return this.smartBuffer.readBuffer(e)},t.readUInt32BE=function(e){return this.smartBuffer.readUInt32BE(e)},t.readUInt8=function(){return this.smartBuffer.readUInt8()},t.readUInt16BE=function(){return this.smartBuffer.readUInt16BE()},t.readBigUIntLE=function(e){var t=Buffer.from(this.smartBuffer.readBuffer(e)).reverse().toString();return BigInt("0x"+t)},t.readBigUIntBE=function(e){var t=this.smartBuffer.readBuffer(e).toString("hex");return BigInt("0x"+t)},t.readBigUInt64BE=function(){return this.smartBuffer.readBigUInt64BE()},t.readString=function(e,t){return this.smartBuffer.readString(e,t)},t.readUInt8Enum=function(e,t){var n=this.smartBuffer.readUInt8();if(function e(t,n){var r=xt.get(t);if(void 0!==r)return r(n);var i=function(e){var t=Object.values(e).filter((function(e){return"number"==typeof e})),n=new Set(t);return function(e){return n.has(e)}}(t);return xt.set(t,i),e(t,n)}(e,n))return n;throw t(n)},z(e,[{key:"readOffset",get:function(){return this.smartBuffer.readOffset},set:function(e){this.smartBuffer.readOffset=e}},{key:"internalBuffer",get:function(){return this.smartBuffer.internalBuffer}}]),e}();function Et(t){var n=Buffer.isBuffer(t)?new Bt(t):t;switch(n.readUInt8Enum(e.ClarityType,(function(e){throw new he("Cannot recognize Clarity Type: "+e)}))){case e.ClarityType.Int:return ft(n.readBuffer(16));case e.ClarityType.UInt:return lt(n.readBuffer(16));case e.ClarityType.Buffer:var r=n.readUInt32BE();return yt(n.readBuffer(r));case e.ClarityType.BoolTrue:return pt();case e.ClarityType.BoolFalse:return dt();case e.ClarityType.PrincipalStandard:return it(Le(n));case e.ClarityType.PrincipalContract:return ot(Le(n),De(n));case e.ClarityType.ResponseOk:return St(Et(n));case e.ClarityType.ResponseErr:return Ct(Et(n));case e.ClarityType.OptionalNone:return gt();case e.ClarityType.OptionalSome:return Tt(Et(n));case e.ClarityType.List:for(var i=n.readUInt32BE(),a=[],o=0;o<i;o++)a.push(Et(n));return bt(a);case e.ClarityType.Tuple:for(var s=n.readUInt32BE(),u={},c=0;c<s;c++){var p=De(n).content;if(void 0===p)throw new he('"content" is undefined');u[p]=Et(n)}return vt(u);case e.ClarityType.StringASCII:var d=n.readUInt32BE(),f=n.readBuffer(d).toString("ascii");return wt(f);case e.ClarityType.StringUTF8:var l=n.readUInt32BE(),y=n.readBuffer(l).toString("utf8");return mt(y);default:throw new he("Unable to deserialize Clarity Value from buffer. Could not find valid Clarity Type.")}}var Mt=function(){function e(){this._value=[]}var t=e.prototype;return t.appendHexString=function(e){this.value.push(Buffer.from(e,"hex"))},t.push=function(e){return this._value.push(e)},t.appendByte=function(e){if(!Number.isInteger(e)||e<0||e>255)throw new Error("Value "+e+" is not a valid byte");this.value.push(Buffer.from([e]))},t.concatBuffer=function(){return Buffer.concat(this.value)},z(e,[{key:"value",get:function(){return this._value}}]),e}(),It=function(e){return e.length%2==0?e:"0"+e},Ot=function(e,t){return e.padStart(t,"0")},Nt=function(e,t){return e.padEnd(t,"0")},Ut=function(e,t){return void 0===t&&(t=8),e.toString(16).padStart(2*t,"0")},Ft=function(e){return parseInt(e,16)},Lt=function(e,t){return!!e&&Buffer.from(e).length>t};function Kt(e){return C.default(e)}function Ht(e,t){var n=Kt(e);return delete n[t],n}var zt=function(e){function t(){var t;return t=e.call(this)||this,Object.assign(J(t),{_ah:573645204,_al:4230739756,_bh:2673172387,_bl:3360449730,_ch:596883563,_cl:1867755857,_dh:2520282905,_dl:1497426621,_eh:2519219938,_el:2827943907,_fh:3193839141,_fl:1401305490,_gh:721525244,_gl:746961066,_hh:246885852,_hl:2177182882}),t}return R(t,e),t.prototype.digest=function(t){var n=e.prototype.digest.call(this).slice(0,32);return t?n.toString(t):n},t}(t.sha512),_t=function(e){return(new zt).update(e).digest("hex")},Rt=function(e){var n=(new t.sha256).update(e).digest();return Buffer.from((new h.default).update(n).digest())},Vt=function(e){return Rt(e).toString("hex")},jt=function(e,t){if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");var n=new Mt;n.appendByte(80+e),t.forEach((function(e){n.appendByte(e.length),n.push(e)})),n.appendByte(80+t.length),n.appendByte(174);var r=n.concatBuffer();return Rt(r).toString("hex")};function Dt(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}function Gt(){return(Gt=K($.mark((function e(t,n){var r;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({referrer:"no-referrer",referrerPolicy:"no-referrer"},n),e.next=4,T.default(t,r);case 4:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){return"0x"+kt(e).toString("hex")}function Jt(e){var t=e.startsWith("0x")?e.slice(2):e;return Et(Buffer.from(t,"hex"))}var Wt,Xt=function(e){if(e.okay)return Jt(e.result);throw new Error(e.cause)},Yt=function(){function e(){}return e.deserialize=function(e){var t=new this;return t.deserialize(e),t},e}();function $t(t){if(65!=Buffer.from(t,"hex").byteLength)throw Error("Invalid signature");return{type:e.StacksMessageType.MessageSignature,data:t}}function Zt(){return{type:e.StacksMessageType.MessageSignature,data:Buffer.alloc(65,0).toString("hex")}}function Qt(e){var t=new Mt;return t.appendHexString(e.data),t.concatBuffer()}function en(e){return $t(e.readBuffer(65).toString("hex"))}function tn(t,n){return{pubKeyEncoding:t,type:e.StacksMessageType.TransactionAuthField,contents:n}}function nn(t){var n=new Mt;switch(t.contents.type){case e.StacksMessageType.PublicKey:t.pubKeyEncoding==e.PubKeyEncoding.Compressed?(n.appendByte(Wt.PublicKeyCompressed),n.push(ie(t.contents))):(n.appendByte(Wt.PublicKeyUncompressed),n.push(ie(oe(t.contents.data))));break;case e.StacksMessageType.MessageSignature:n.appendByte(t.pubKeyEncoding==e.PubKeyEncoding.Compressed?Wt.SignatureCompressed:Wt.SignatureUncompressed),n.push(Qt(t.contents))}return n.concatBuffer()}function rn(t){var n=t.readUInt8Enum(Wt,(function(e){throw new he("Could not read "+e+" as AuthFieldType")}));switch(n){case Wt.PublicKeyCompressed:return tn(e.PubKeyEncoding.Compressed,se(t));case Wt.PublicKeyUncompressed:return tn(e.PubKeyEncoding.Uncompressed,se(t));case Wt.SignatureCompressed:return tn(e.PubKeyEncoding.Compressed,en(t));case Wt.SignatureUncompressed:return tn(e.PubKeyEncoding.Uncompressed,en(t));default:throw new Error("Unknown auth field type: "+JSON.stringify(n))}}function an(t,n,r,i){return{hashMode:t,signer:Ne(0,t,1,[Q(n)]).hash160,nonce:r,fee:i,keyEncoding:ne(Q(n))?e.PubKeyEncoding.Compressed:e.PubKeyEncoding.Uncompressed,signature:Zt()}}function on(e,t,n,r,i){return{hashMode:e,signer:Ne(0,e,t,n.map(Q)).hash160,nonce:r,fee:i,fields:[],signaturesRequired:t}}function sn(e){return"signature"in e}function un(e){var t=Kt(e);return t.nonce=new y.default(0),t.fee=new y.default(0),sn(t)?t.signature=Zt():t.fields=[],t}function cn(e){var t=new Mt;return t.appendByte(e.hashMode),t.appendHexString(e.signer),t.push(e.nonce.toArrayLike(Buffer,"be",8)),t.push(e.fee.toArrayLike(Buffer,"be",8)),t.appendByte(e.keyEncoding),t.push(Qt(e.signature)),t.concatBuffer()}function pn(e){var t=new Mt;t.appendByte(e.hashMode),t.appendHexString(e.signer),t.push(e.nonce.toArrayLike(Buffer,"be",8)),t.push(e.fee.toArrayLike(Buffer,"be",8));var n=Qe(e.fields);t.push(et(n));var r=Buffer.alloc(2);return r.writeUInt16BE(e.signaturesRequired,0),t.push(r),t.concatBuffer()}function dn(t,n){return{hashMode:t,signer:n.readBuffer(20).toString("hex"),nonce:new y.default(n.readBuffer(8).toString("hex"),16),fee:new y.default(n.readBuffer(8).toString("hex"),16),keyEncoding:n.readUInt8Enum(e.PubKeyEncoding,(function(e){throw new he("Could not parse "+e+" as PubKeyEncoding")})),signature:en(n)}}function fn(t,n){return{hashMode:t,signer:n.readBuffer(20).toString("hex"),nonce:new y.default(n.readBuffer(8).toString("hex"),16),fee:new y.default(n.readBuffer(8).toString("hex"),16),fields:tt(n,e.StacksMessageType.TransactionAuthField).values,signaturesRequired:n.readUInt16BE()}}function ln(e){return sn(e)?cn(e):pn(e)}function yn(t){var n=t.readUInt8Enum(e.AddressHashMode,(function(e){throw new he("Could not parse "+e+" as AddressHashMode")}));return n===e.AddressHashMode.SerializeP2PKH||n===e.AddressHashMode.SerializeP2WPKH?dn(n,t):fn(n,t)}function hn(e,t,n,r){var i=e+Buffer.from([t]).toString("hex")+n.toArrayLike(Buffer,"be",8).toString("hex")+r.toArrayLike(Buffer,"be",8).toString("hex");if(49!==Buffer.from(i,"hex").byteLength)throw Error("Invalid signature hash length");return _t(Buffer.from(i,"hex"))}function gn(t,n,r){var i=ne(n)?e.PubKeyEncoding.Compressed:e.PubKeyEncoding.Uncompressed,a=t+It(i.toString(16))+r.data,o=Buffer.from(a,"hex");if(o.byteLength>98)throw Error("Invalid signature hash length");return _t(o)}function Tn(e,t,n,r,i){var a=hn(e,t,n,r),o=ce(i,a);return{nextSig:o,nextSigHash:gn(a,de(i),o)}}function Cn(e,t,n,r,i,a){var o=hn(e,t,n,r),s=Q(ee(o,a,i));return{pubKey:s,nextSigHash:gn(o,s,a)}}!function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"}(Wt||(Wt={}));var Sn,bn=function(t){function n(e,n,r){var i;return(i=t.call(this)||this).authType=e,i.spendingCondition=n,i.sponsorSpendingCondition=r,i}R(n,t);var r=n.prototype;return r.intoInitialSighashAuth=function(){if(this.spendingCondition)switch(this.authType){case e.AuthType.Standard:return new n(e.AuthType.Standard,un(this.spendingCondition));case e.AuthType.Sponsored:return new n(e.AuthType.Sponsored,un(this.spendingCondition),((t=an(e.AddressHashMode.SerializeP2PKH,"",new y.default(0),new y.default(0))).signer=Me().hash160,t.keyEncoding=e.PubKeyEncoding.Compressed,t.signature=Zt(),t));default:throw new Te("Unexpected authorization type for signing")}var t;throw new Error("Authorization missing SpendingCondition")},r.setFee=function(t){switch(this.authType){case e.AuthType.Standard:this.spendingCondition.fee=t;break;case e.AuthType.Sponsored:this.sponsorSpendingCondition.fee=t}},r.getFee=function(){switch(this.authType){case e.AuthType.Standard:return this.spendingCondition.fee;case e.AuthType.Sponsored:return this.sponsorSpendingCondition.fee;default:return 0}},r.setNonce=function(e){this.spendingCondition.nonce=e},r.setSponsorNonce=function(e){this.sponsorSpendingCondition.nonce=e},r.setSponsor=function(e){this.sponsorSpendingCondition=e},r.verifyOrigin=function(t){switch(this.authType){case e.AuthType.Standard:case e.AuthType.Sponsored:return function(e,t,n){return sn(e)?function(e,t,n){return Cn(t,n,e.fee,e.nonce,e.keyEncoding,e.signature).nextSigHash}(e,t,n):""}(this.spendingCondition,t,e.AuthType.Standard);default:throw new Te("Invalid origin auth type")}},r.serialize=function(){var t=new Mt;if(void 0===this.authType)throw new ye('"authType" is undefined');switch(t.appendByte(this.authType),this.authType){case e.AuthType.Standard:if(void 0===this.spendingCondition)throw new ye('"spendingCondition" is undefined');t.push(ln(this.spendingCondition));break;case e.AuthType.Sponsored:if(void 0===this.spendingCondition)throw new ye('"spendingCondition" is undefined');if(void 0===this.sponsorSpendingCondition)throw new ye('"spendingCondition" is undefined');t.push(ln(this.spendingCondition)),t.push(ln(this.sponsorSpendingCondition));break;default:throw new ye("Unexpected transaction AuthType while serializing: "+JSON.stringify(this.authType))}return t.concatBuffer()},r.deserialize=function(t){switch(this.authType=t.readUInt8Enum(e.AuthType,(function(e){throw new he("Could not parse "+e+" as AuthType")})),this.authType){case e.AuthType.Standard:this.spendingCondition=yn(t);break;case e.AuthType.Sponsored:this.spendingCondition=yn(t),this.sponsorSpendingCondition=yn(t);break;default:throw new he("Unexpected transaction AuthType while deserializing: "+JSON.stringify(this.authType))}},n}(Yt),vn=function(t){function n(n){return t.call(this,e.AuthType.Standard,n)||this}return R(n,t),n}(bn),wn=function(t){function n(n,r){var i=r;return i||(i=an(e.AddressHashMode.SerializeP2PKH,"0".repeat(66),new y.default(0),new y.default(0))),t.call(this,e.AuthType.Sponsored,n,i)||this}return R(n,t),n}(bn),mn=function(){function t(t,n,r,i,a,o,s){if(this.version=t,this.auth=n,this.payload=r,this.chainId=null!=s?s:m,this.postConditionMode=null!=a?a:e.PostConditionMode.Deny,this.postConditions=null!=i?i:Qe([]),o)this.anchorMode=o;else switch(r.payloadType){case e.PayloadType.Coinbase:case e.PayloadType.PoisonMicroblock:this.anchorMode=e.AnchorMode.OnChainOnly;break;case e.PayloadType.ContractCall:case e.PayloadType.SmartContract:case e.PayloadType.TokenTransfer:this.anchorMode=e.AnchorMode.Any}}var n=t.prototype;return n.signBegin=function(){var e=Kt(this);return e.auth=e.auth.intoInitialSighashAuth(),e.txid()},n.verifyBegin=function(){var e=Kt(this);return e.auth=e.auth.intoInitialSighashAuth(),e.txid()},n.createTxWithSignature=function(e){var t="string"==typeof e?e:e.toString("hex"),n=Kt(this);if(!n.auth.spendingCondition)throw new Error("Cannot set signature on transaction without spending condition");return n.auth.spendingCondition.signature=$t(t),n},n.verifyOrigin=function(){return this.auth.verifyOrigin(this.verifyBegin())},n.signNextOrigin=function(t,n){if(void 0===this.auth.spendingCondition)throw new Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,e.AuthType.Standard,n)},n.signNextSponsor=function(t,n){if(void 0===this.auth.sponsorSpendingCondition)throw new Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.sponsorSpendingCondition,t,e.AuthType.Sponsored,n)},n.appendPubkey=function(t){var n=this.auth.spendingCondition;if(!n||sn(n))throw new Error("Can't append public key to a singlesig condition");var r=ne(t);n.fields.push(tn(r?e.PubKeyEncoding.Compressed:e.PubKeyEncoding.Uncompressed,t))},n.signAndAppend=function(t,n,r,i){var a=Tn(n,r,t.fee,t.nonce,i),o=a.nextSig,s=a.nextSigHash;if(sn(t))t.signature=o;else{var u=i.data.toString("hex").endsWith("01");t.fields.push(tn(u?e.PubKeyEncoding.Compressed:e.PubKeyEncoding.Uncompressed,o))}return s},n.txid=function(){var e=this.serialize();return _t(e)},n.setSponsor=function(t){if(this.auth.authType!=e.AuthType.Sponsored)throw new Te("Cannot sponsor sign a non-sponsored transaction");this.auth.setSponsor(t)},n.setFee=function(e){this.auth.setFee(e)},n.setNonce=function(e){this.auth.setNonce(e)},n.setSponsorNonce=function(e){this.auth.setSponsorNonce(e)},n.serialize=function(){if(void 0===this.version)throw new ye('"version" is undefined');if(void 0===this.chainId)throw new ye('"chainId" is undefined');if(void 0===this.auth)throw new ye('"auth" is undefined');if(void 0===this.anchorMode)throw new ye('"anchorMode" is undefined');if(void 0===this.payload)throw new ye('"payload" is undefined');var e=new Mt;e.appendByte(this.version);var t=Buffer.alloc(4);return t.writeUInt32BE(this.chainId,0),e.push(t),e.push(this.auth.serialize()),e.appendByte(this.anchorMode),e.appendByte(this.postConditionMode),e.push(et(this.postConditions)),e.push(ke(this.payload)),e.concatBuffer()},t}(),An=function(){function t(e){this.transaction=e,this.sigHash=e.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0}t.createSponsorSigner=function(t,n){if(t.auth.authType!=e.AuthType.Sponsored)throw new Te("Cannot add sponsor to non-sponsored transaction");var r=Kt(t);r.setSponsor(n);var i=r.verifyOrigin(),a=new this(r);return a.originDone=!0,a.sigHash=i,a.checkOversign=!0,a.checkOverlap=!0,a};var n=t.prototype;return n.signOrigin=function(e){if(this.checkOverlap&&this.originDone)throw new Te("Cannot sign origin after sponsor key");if(void 0===this.transaction.auth)throw new Te('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw new Te('"transaction.auth.spendingCondition" is undefined');if(!sn(this.transaction.auth.spendingCondition)){var t=this.transaction.auth.spendingCondition;if(this.checkOversign&&t.fields.length>=t.signaturesRequired)throw new Error("Origin would have too many signatures")}var n=this.transaction.signNextOrigin(this.sigHash,e);this.sigHash=n},n.appendOrigin=function(e){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(void 0===this.transaction.auth)throw new Error('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(e)},n.signSponsor=function(e){if(void 0===this.transaction.auth)throw new Te('"transaction.auth" is undefined');if(void 0===this.transaction.auth.sponsorSpendingCondition)throw new Te('"transaction.auth.spendingCondition" is undefined');var t=this.transaction.signNextSponsor(this.sigHash,e);this.sigHash=t,this.originDone=!0},n.getTxInComplete=function(){return Kt(this.transaction)},n.resume=function(e){this.transaction=Kt(e),this.sigHash=e.signBegin()},t}();(Sn=e.ClarityAbiTypeId||(e.ClarityAbiTypeId={}))[Sn.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",Sn[Sn.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",Sn[Sn.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",Sn[Sn.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",Sn[Sn.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",Sn[Sn.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",Sn[Sn.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",Sn[Sn.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",Sn[Sn.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",Sn[Sn.ClarityAbiTypeList=10]="ClarityAbiTypeList",Sn[Sn.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",Sn[Sn.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",Sn[Sn.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference";var Pn=function(e){return"string"==typeof e},kn=function(e){return void 0!==e.buffer},xn=function(e){return void 0!==e["string-ascii"]},Bn=function(e){return void 0!==e["string-utf8"]},En=function(e){return void 0!==e.response},Mn=function(e){return void 0!==e.optional},In=function(e){return void 0!==e.tuple},On=function(e){return void 0!==e.list};function Nn(t){if(Pn(t)){if("uint128"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypeUInt128,type:t};if("int128"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypeInt128,type:t};if("bool"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypeBool,type:t};if("principal"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypePrincipal,type:t};if("trait_reference"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypeTraitReference,type:t};if("none"===t)return{id:e.ClarityAbiTypeId.ClarityAbiTypeNone,type:t};throw new Error("Unexpected Clarity ABI type primitive: "+JSON.stringify(t))}if(kn(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeBuffer,type:t};if(En(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeResponse,type:t};if(Mn(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeOptional,type:t};if(In(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeTuple,type:t};if(On(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeList,type:t};if(xn(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeStringAscii,type:t};if(Bn(t))return{id:e.ClarityAbiTypeId.ClarityAbiTypeStringUtf8,type:t};throw new Error("Unexpected Clarity ABI type: "+JSON.stringify(t))}function Un(e){if(Pn(e))return"int128"===e?"int":"uint128"===e?"uint":e;if(kn(e))return"(buff "+e.buffer.length+")";if(xn(e))return"(string-ascii "+e["string-ascii"].length+")";if(Bn(e))return"(string-utf8 "+e["string-utf8"].length+")";if(En(e))return"(response "+Un(e.response.ok)+" "+Un(e.response.error)+")";if(Mn(e))return"(optional "+Un(e.optional)+")";if(In(e))return"(tuple "+e.tuple.map((function(e){return"("+e.name+" "+Un(e.type)+")"})).join(" ")+")";if(On(e))return"(list "+e.list.length+" "+Un(e.list.type)+")";throw new Error("Type string unsupported for Clarity type: "+JSON.stringify(e))}function Fn(t,n){var r=Nn(n);switch(t.type){case e.ClarityType.BoolTrue:case e.ClarityType.BoolFalse:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeBool;case e.ClarityType.Int:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeInt128;case e.ClarityType.UInt:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeUInt128;case e.ClarityType.Buffer:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeBuffer&&r.type.buffer.length>=t.buffer.length;case e.ClarityType.StringASCII:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=t.data.length;case e.ClarityType.StringUTF8:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=t.data.length;case e.ClarityType.OptionalNone:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeNone||r.id===e.ClarityAbiTypeId.ClarityAbiTypeOptional;case e.ClarityType.OptionalSome:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeOptional&&Fn(t.value,r.type.optional);case e.ClarityType.ResponseErr:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeResponse&&Fn(t.value,r.type.response.error);case e.ClarityType.ResponseOk:return r.id===e.ClarityAbiTypeId.ClarityAbiTypeResponse&&Fn(t.value,r.type.response.ok);case e.ClarityType.PrincipalContract:return r.id===e.ClarityAbiTypeId.ClarityAbiTypePrincipal||r.id===e.ClarityAbiTypeId.ClarityAbiTypeTraitReference;case e.ClarityType.PrincipalStandard:return r.id===e.ClarityAbiTypeId.ClarityAbiTypePrincipal;case e.ClarityType.List:return r.id==e.ClarityAbiTypeId.ClarityAbiTypeList&&r.type.list.length===t.list.length&&t.list.every((function(e){return Fn(e,r.type.list.type)}));case e.ClarityType.Tuple:if(r.id==e.ClarityAbiTypeId.ClarityAbiTypeTuple){for(var i=Kt(t.data),a=0;a<r.type.tuple.length;a++){var o=r.type.tuple[a],s=o.name,u=i[s];if(!u)return!1;if(!Fn(u,o.type))return!1;delete i[s]}return!0}return!1;default:return!1}}function Ln(e,t){var n=t.functions.filter((function(t){return t.name===e.functionName.content}));if(1===n.length){var r=n[0].args;if(e.functionArgs.length!==r.length)throw new Error("Clarity function expects "+r.length+" argument(s) but received "+e.functionArgs.length);for(var i=0;i<e.functionArgs.length;i++){var a=e.functionArgs[i],o=r[i];if(!Fn(a,o.type))throw new Error("Clarity function `"+e.functionName.content+"` expects argument "+(i+1)+" to be of type "+Un(o.type)+", not "+ct(a))}return!0}throw 0===n.length?new Error("ABI doesn't contain a function with the name "+e.functionName.content):new Error("Malformed ABI. Contains multiple functions with the name "+e.functionName.content)}function Kn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=K($.mark((function e(t,n){var r,i,a,o;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new p.StacksMainnet,i=n?n.getAccountApiUrl(t):r.getAccountApiUrl(t),e.next=4,d.fetchPrivate(i);case 4:if((a=e.sent).ok){e.next=16;break}return o="",e.prev=7,e.next=10,a.text();case 10:o=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:throw new Error("Error fetching nonce. Response "+a.status+": "+a.statusText+". Attempted to fetch "+i+' and failed with the message: "'+o+'"');case 16:return e.next=18,a.json();case 18:return e.abrupt("return",new y.default(e.sent.nonce));case 20:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function zn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=K($.mark((function t(n,r){var i,a,o,s,u,c,f,l;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.payload.payloadType===e.PayloadType.TokenTransfer){t.next=2;break}throw new Error("Transaction fee estimation only possible with "+e.PayloadType[e.PayloadType.TokenTransfer]+" transactions. Invoked with: "+e.PayloadType[n.payload.payloadType]);case 2:return i={method:"GET",headers:{Accept:"application/text"}},a=new p.StacksMainnet,o=r?r.getTransferFeeEstimateApiUrl():a.getTransferFeeEstimateApiUrl(),t.next=8,d.fetchPrivate(o,i);case 8:if((s=t.sent).ok){t.next=20;break}return u="",t.prev=11,t.next=14,s.text();case 14:u=t.sent,t.next=19;break;case 17:t.prev=17,t.t0=t.catch(11);case 19:throw new Error("Error estimating transaction fee. Response "+s.status+": "+s.statusText+". Attempted to fetch "+o+' and failed with the message: "'+u+'"');case 20:return t.next=22,s.text();case 22:return c=t.sent,f=new y.default(n.serialize().byteLength),l=new y.default(c),t.abrupt("return",l.mul(f));case 26:case"end":return t.stop()}}),t,null,[[11,17]])})))).apply(this,arguments)}function Rn(){return(Rn=K($.mark((function e(t,n,r){var i,a;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.serialize(),a=n.getBroadcastApiUrl(),e.abrupt("return",Vn(i,a,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=K($.mark((function e(t,n,r){var i,a,o;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",headers:{"Content-Type":r?"application/json":"application/octet-stream"},body:r?JSON.stringify({tx:t.toString("hex"),attachment:r.toString("hex")}):t},e.next=3,d.fetchPrivate(n,i);case 3:if((a=e.sent).ok){e.next=14;break}return e.prev=5,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(5),Error("Failed to broadcast transaction: "+e.t0.message);case 14:return e.next=16,a.text();case 16:return o=e.sent,e.prev=17,e.abrupt("return",JSON.parse(o));case 21:return e.prev=21,e.t1=e.catch(17),e.abrupt("return",o);case 24:case"end":return e.stop()}}),e,null,[[5,11],[17,21]])})))).apply(this,arguments)}function Dn(e,t,n){return Gn.apply(this,arguments)}function Gn(){return(Gn=K($.mark((function e(t,n,r){var i,a,o,s;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"GET"},a=r.getAbiApiUrl(t,n),e.next=4,d.fetchPrivate(a,i);case 4:if((o=e.sent).ok){e.next=16;break}return s="",e.prev=7,e.next=10,o.text();case 10:s=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:throw new Error('Error fetching contract ABI for contract "'+n+'" at address '+t+". Response "+o.status+": "+o.statusText+". Attempted to fetch "+a+' and failed with the message: "'+s+'"');case 16:return e.t1=JSON,e.next=19,o.text();case 19:return e.t2=e.sent,e.abrupt("return",e.t1.parse.call(e.t1,e.t2));case 21:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function qn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=K($.mark((function t(n){var i,a,o,s,u,c,d,f,l;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i={fee:new y.default(0),nonce:new y.default(0),network:new p.StacksMainnet,anchorMode:e.AnchorMode.Any,postConditionMode:e.PostConditionMode.Deny,memo:"",sponsored:!1},a=Object.assign(i,n),o=me(a.recipient,a.amount,a.memo),u="publicKey"in a?an(e.AddressHashMode.SerializeP2PKH,a.publicKey,a.nonce,a.fee):on(e.AddressHashMode.SerializeP2SH,a.numSignatures,a.publicKeys,a.nonce,a.fee),s=a.sponsored?new wn(u):new vn(u),c=[],a.postConditions&&a.postConditions.length>0&&a.postConditions.forEach((function(e){c.push(e)})),d=Qe(c),f=new mn(a.network.version,s,o,d,a.postConditionMode,i.anchorMode,a.network.chainId),n.fee){t.next=16;break}return t.next=14,zn(f,a.network);case 14:f.setFee(t.sent);case 16:if(n.nonce){t.next=23;break}return l=r.c32address(a.network.version===e.TransactionVersion.Mainnet?e.AddressVersion.MainnetSingleSig:e.AddressVersion.TestnetSingleSig,f.auth.spendingCondition.signer),t.next=21,Kn(l,a.network);case 21:f.setNonce(t.sent);case 23:return t.abrupt("return",f);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wn(){return(Wn=K($.mark((function e(t){var n,r,i,a,o,s,u,c,p,d,f,l,y;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("senderKey"in t)){e.next=12;break}return n=re(de(ue(t.senderKey))),r=Ht(t,"senderKey"),e.next=5,qn(_({publicKey:n},r));case 5:return i=e.sent,a=ue(t.senderKey),new An(i).signOrigin(a),e.abrupt("return",i);case 12:return o=Ht(t,"signerKeys"),e.next=15,qn(o);case 15:for(u=new An(s=e.sent),c=t.publicKeys,p=function(){var e=f.value,t=ae(e);c=c.filter((function(e){return e!==t.data.toString("hex")})),u.signOrigin(ue(e))},d=X(t.signerKeys);!(f=d()).done;)p();for(l=X(c);!(y=l()).done;)u.appendOrigin(te(Buffer.from(y.value,"hex")));return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t){return Yn.apply(this,arguments)}function Yn(){return(Yn=K($.mark((function t(n,r){var i,a,o,s,u,c,f,l;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.payload.payloadType===e.PayloadType.SmartContract){t.next=2;break}throw new Error("Contract deploy fee estimation only possible with "+e.PayloadType[e.PayloadType.SmartContract]+" transactions. Invoked with: "+e.PayloadType[n.payload.payloadType]);case 2:return i={method:"GET",headers:{Accept:"application/text"}},a=new p.StacksMainnet,o=r?r.getTransferFeeEstimateApiUrl():a.getTransferFeeEstimateApiUrl(),t.next=8,d.fetchPrivate(o,i);case 8:if((s=t.sent).ok){t.next=20;break}return u="",t.prev=11,t.next=14,s.text();case 14:u=t.sent,t.next=19;break;case 17:t.prev=17,t.t0=t.catch(11);case 19:throw new Error("Error estimating contract deploy fee. Response "+s.status+": "+s.statusText+". Attempted to fetch "+o+' and failed with the message: "'+u+'"');case 20:return t.next=22,s.text();case 22:return c=t.sent,f=new y.default(n.serialize().byteLength),l=new y.default(c),t.abrupt("return",l.mul(f));case 26:case"end":return t.stop()}}),t,null,[[11,17]])})))).apply(this,arguments)}function $n(){return($n=K($.mark((function t(n){var r,i,a,o,s,u,c,d,f,l,h,g;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={fee:new y.default(0),nonce:new y.default(0),network:new p.StacksMainnet,anchorMode:e.AnchorMode.Any,postConditionMode:e.PostConditionMode.Deny,sponsored:!1},i=Object.assign(r,n),a=Pe(i.contractName,i.codeBody),o=e.AddressHashMode.SerializeP2PKH,s=ue(i.senderKey),u=de(s),d=an(o,re(u),i.nonce,i.fee),c=i.sponsored?new wn(d):new vn(d),f=[],i.postConditions&&i.postConditions.length>0&&i.postConditions.forEach((function(e){f.push(e)})),l=Qe(f),h=new mn(i.network.version,c,a,l,i.postConditionMode,i.anchorMode,i.network.chainId),n.fee){t.next=18;break}return t.next=16,Xn(h,i.network);case 16:h.setFee(t.sent);case 18:if(n.nonce){t.next=25;break}return g=fe(i.network.version===e.TransactionVersion.Mainnet?e.AddressVersion.MainnetSingleSig:e.AddressVersion.TestnetSingleSig,u),t.next=23,Kn(g,i.network);case 23:h.setNonce(t.sent);case 25:return i.senderKey&&new An(h).signOrigin(s),t.abrupt("return",h);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=K($.mark((function t(n,r){var i,a,o,s,u,c,f,l;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.payload.payloadType===e.PayloadType.ContractCall){t.next=2;break}throw new Error("Contract call fee estimation only possible with "+e.PayloadType[e.PayloadType.ContractCall]+" transactions. Invoked with: "+e.PayloadType[n.payload.payloadType]);case 2:return i={method:"GET",headers:{Accept:"application/text"}},a=new p.StacksMainnet,o=r?r.getTransferFeeEstimateApiUrl():a.getTransferFeeEstimateApiUrl(),t.next=8,d.fetchPrivate(o,i);case 8:if((s=t.sent).ok){t.next=20;break}return u="",t.prev=11,t.next=14,s.text();case 14:u=t.sent,t.next=19;break;case 17:t.prev=17,t.t0=t.catch(11);case 19:throw new Error("Error estimating contract call fee. Response "+s.status+": "+s.statusText+". Attempted to fetch "+o+' and failed with the message: "'+u+'"');case 20:return t.next=22,s.text();case 22:return c=t.sent,f=new y.default(n.serialize().byteLength),l=new y.default(c),t.abrupt("return",l.mul(f));case 26:case"end":return t.stop()}}),t,null,[[11,17]])})))).apply(this,arguments)}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=K($.mark((function t(n){var i,a,o,s,u,c,d,f,l,h;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i={fee:new y.default(0),nonce:new y.default(0),network:new p.StacksMainnet,anchorMode:e.AnchorMode.Any,postConditionMode:e.PostConditionMode.Deny,sponsored:!1},a=Object.assign(i,n),o=Ae(a.contractAddress,a.contractName,a.functionName,a.functionArgs),!(null==a?void 0:a.validateWithAbi)){t.next=16;break}if("boolean"!=typeof a.validateWithAbi){t.next=14;break}if(!(null==a?void 0:a.network)){t.next=11;break}return t.next=8,Dn(a.contractAddress,a.contractName,a.network);case 8:s=t.sent,t.next=12;break;case 11:throw new Error("Network option must be provided in order to validate with ABI");case 12:t.next=15;break;case 14:s=a.validateWithAbi;case 15:Ln(o,s);case 16:if(u="publicKey"in a?an(e.AddressHashMode.SerializeP2PKH,a.publicKey,a.nonce,a.fee):on(e.AddressHashMode.SerializeP2SH,a.numSignatures,a.publicKeys,a.nonce,a.fee),c=a.sponsored?new wn(u):new vn(u),d=[],a.postConditions&&a.postConditions.length>0&&a.postConditions.forEach((function(e){d.push(e)})),f=Qe(d),l=new mn(a.network.version,c,o,f,a.postConditionMode,a.anchorMode,a.network.chainId),n.fee){t.next=29;break}return t.next=27,Zn(l,a.network);case 27:l.setFee(t.sent);case 29:if(n.nonce){t.next=36;break}return h=r.c32address(a.network.version===e.TransactionVersion.Mainnet?e.AddressVersion.MainnetSingleSig:e.AddressVersion.TestnetSingleSig,l.auth.spendingCondition.signer),t.next=34,Kn(h,a.network);case 34:l.setNonce(t.sent);case 36:return t.abrupt("return",l);case 37:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nr(){return(nr=K($.mark((function e(t){var n,r,i,a,o,s,u,c,p,d,f,l,y;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("senderKey"in t)){e.next=12;break}return n=re(de(ue(t.senderKey))),r=Ht(t,"senderKey"),e.next=5,er(_({publicKey:n},r));case 5:return i=e.sent,a=ue(t.senderKey),new An(i).signOrigin(a),e.abrupt("return",i);case 12:return o=Ht(t,"signerKeys"),e.next=15,er(o);case 15:for(u=new An(s=e.sent),c=t.publicKeys,p=function(){var e=f.value,t=ae(e);c=c.filter((function(e){return e!==t.data.toString("hex")})),u.signOrigin(ue(e))},d=X(t.signerKeys);!(f=d()).done;)p();for(l=X(c);!(y=l()).done;)u.appendOrigin(te(Buffer.from(y.value,"hex")));return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(){return(rr=K($.mark((function e(t){var n,r,i,a,o,s,u,c,f;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={network:new p.StacksMainnet},r=Object.assign(n,t),i=r.functionArgs,a=r.senderAddress,o=r.network.getReadOnlyFunctionCallApiUrl(r.contractAddress,r.contractName,r.functionName),s=i.map((function(e){return qt(e)})),u=JSON.stringify({sender:a,arguments:s}),e.next=8,d.fetchPrivate(o,{method:"POST",body:u,headers:{"Content-Type":"application/json"}});case 8:if((c=e.sent).ok){e.next=20;break}return f="",e.prev=11,e.next=14,c.text();case 14:f=e.sent,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(11);case 19:throw new Error("Error calling read-only function. Response "+c.status+": "+c.statusText+". Attempted to fetch "+o+' and failed with the message: "'+f+'"');case 20:return e.abrupt("return",c.json().then((function(e){return Xt(e)})));case 21:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function ir(){return(ir=K($.mark((function t(n){var r,i,a,o,s,u,c,d,f;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i={fee:new y.default(0),sponsorNonce:new y.default(0),sponsorAddressHashmode:e.AddressHashMode.SerializeP2PKH},a=Object.assign(i,n),o=null!=(r=n.network)?r:a.transaction.version===e.TransactionVersion.Mainnet?new p.StacksMainnet:new p.StacksTestnet,s=ae(a.sponsorPrivateKey),n.fee){t.next=24;break}u=new y.default(0),t.t0=a.transaction.payload.payloadType,t.next=t.t0===e.PayloadType.TokenTransfer?9:t.t0===e.PayloadType.SmartContract?13:t.t0===e.PayloadType.ContractCall?17:21;break;case 9:return t.next=11,zn(a.transaction,o);case 11:return u=t.sent,t.abrupt("break",22);case 13:return t.next=15,Xn(a.transaction,o);case 15:return u=t.sent,t.abrupt("break",22);case 17:return t.next=19,Zn(a.transaction,o);case 19:return u=t.sent,t.abrupt("break",22);case 21:throw new Error("Sponsored transactions not supported for transaction type "+e.PayloadType[a.transaction.payload.payloadType]);case 22:a.transaction.setFee(u),a.fee=u;case 24:if(n.sponsorNonce){t.next=31;break}return c=fe(o.version===e.TransactionVersion.Mainnet?e.AddressVersion.MainnetSingleSig:e.AddressVersion.TestnetSingleSig,s),t.next=29,Kn(c,o);case 29:a.sponsorNonce=t.sent;case 31:return d=an(a.sponsorAddressHashmode,re(s),a.sponsorNonce,a.fee),a.transaction.setSponsor(d),f=ue(a.sponsorPrivateKey),An.createSponsorSigner(a.transaction,d).signSponsor(f),t.abrupt("return",a.transaction);case 37:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return g.default}}),e.Authorization=bn,e.BufferArray=Mt,e.BufferReader=Bt,e.CLARITY_INT_SIZE=128,e.COINBASE_BUFFER_LENGTH_BYTES=32,e.COMPRESSED_PUBKEY_LENGTH_BYTES=32,e.DEFAULT_CHAIN_ID=m,e.DEFAULT_CORE_NODE_API_URL="https://stacks-node-api.mainnet.stacks.co",e.DEFAULT_TRANSACTION_VERSION=F,e.MAX_STRING_LENGTH_BYTES=128,e.MEMO_MAX_LENGTH_BYTES=34,e.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=65,e.SponsoredAuthorization=wn,e.StacksTransaction=mn,e.StandardAuthorization=vn,e.TransactionSigner=An,e.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=64,e.abiFunctionToString=function(e){return"(define-"+("read_only"===e.access?"read-only":e.access)+" ("+e.name+" "+e.args.map((function(e){return"("+e.name+" "+Un(e.type)+")"})).join(" ")+"))"},e.addressFromHashMode=function(e,t,n){return Ie(Oe(e,t),n)},e.addressFromPublicKeys=Ne,e.addressFromVersionHash=Ie,e.addressHashModeToVersion=Oe,e.addressToString=Ue,e.broadcastRawTransaction=Vn,e.broadcastTransaction=function(e,t,n){return Rn.apply(this,arguments)},e.bufferCV=yt,e.bufferCVFromString=ht,e.callReadOnlyFunction=function(e){return rr.apply(this,arguments)},e.cloneDeep=Kt,e.codeBodyString=Ge,e.compressPublicKey=oe,e.contractPrincipalCV=at,e.contractPrincipalCVFromAddress=ot,e.contractPrincipalCVFromStandard=function(t,n){var r=Ve(n);return{type:e.ClarityType.PrincipalContract,address:t.address,contractName:r}},e.createAddress=Ee,e.createAssetInfo=Ye,e.createContractPrincipal=ze,e.createEmptyAddress=Me,e.createFungiblePostCondition=Se,e.createLPList=Qe,e.createLPString=Ve,e.createMemoString=qe,e.createMessageSignature=$t,e.createMultiSigSpendingCondition=on,e.createNonFungiblePostCondition=be,e.createSTXPostCondition=Ce,e.createSingleSigSpendingCondition=an,e.createStacksPrivateKey=ue,e.createStacksPublicKey=Q,e.createStandardPrincipal=He,e.createTransactionAuthField=tn,e.cvToHex=qt,e.cvToJSON=ut,e.cvToString=function t(n,r){switch(void 0===r&&(r="hex"),n.type){case e.ClarityType.BoolTrue:return"true";case e.ClarityType.BoolFalse:return"false";case e.ClarityType.Int:return n.value.fromTwos(128).toString();case e.ClarityType.UInt:return"u"+n.value.toString();case e.ClarityType.Buffer:if("tryAscii"===r){var i=n.buffer.toString("ascii");if(/[ -~]/.test(i))return JSON.stringify(i)}return"0x"+n.buffer.toString("hex");case e.ClarityType.OptionalNone:return"none";case e.ClarityType.OptionalSome:return"(some "+t(n.value,r)+")";case e.ClarityType.ResponseErr:return"(err "+t(n.value,r)+")";case e.ClarityType.ResponseOk:return"(ok "+t(n.value,r)+")";case e.ClarityType.PrincipalStandard:case e.ClarityType.PrincipalContract:return nt(n);case e.ClarityType.List:return"(list "+n.list.map((function(e){return t(e,r)})).join(" ")+")";case e.ClarityType.Tuple:return"(tuple "+Object.keys(n.data).map((function(e){return"("+e+" "+t(n.data[e],r)+")"})).join(" ")+")";case e.ClarityType.StringASCII:return'"'+n.data+'"';case e.ClarityType.StringUTF8:return'u"'+n.data+'"'}},e.cvToValue=st,e.deserializeAddress=Le,e.deserializeAssetInfo=Ze,e.deserializeCV=Et,e.deserializeLPList=tt,e.deserializeLPString=De,e.deserializeMemoString=We,e.deserializeMessageSignature=en,e.deserializeMultiSigSpendingCondition=fn,e.deserializePostCondition=we,e.deserializePrincipal=Re,e.deserializePublicKey=se,e.deserializeSingleSigSpendingCondition=dn,e.deserializeSpendingCondition=yn,e.deserializeStacksMessage=function(t,n,r){switch(n){case e.StacksMessageType.Address:return Le(t);case e.StacksMessageType.Principal:return Re(t);case e.StacksMessageType.LengthPrefixedString:return De(t);case e.StacksMessageType.MemoString:return We(t);case e.StacksMessageType.AssetInfo:return Ze(t);case e.StacksMessageType.PostCondition:return we(t);case e.StacksMessageType.PublicKey:return se(t);case e.StacksMessageType.Payload:return xe(t);case e.StacksMessageType.LengthPrefixedList:if(!r)throw new he("No List Type specified");return tt(t,r);case e.StacksMessageType.MessageSignature:return en(t);default:throw new Error("Could not recognize StacksMessageType")}},e.deserializeTransaction=function(t){var n,r=(n="string"==typeof t?"0x"===t.slice(0,2).toLowerCase()?new Bt(Buffer.from(t.slice(2),"hex")):new Bt(Buffer.from(t,"hex")):Buffer.isBuffer(t)?new Bt(t):t).readUInt8Enum(e.TransactionVersion,(function(e){throw new Error("Could not parse "+e+" as TransactionVersion")})),i=n.readUInt32BE(),a=bn.deserialize(n),o=n.readUInt8Enum(e.AnchorMode,(function(e){throw new Error("Could not parse "+e+" as AnchorMode")})),s=n.readUInt8Enum(e.PostConditionMode,(function(e){throw new Error("Could not parse "+e+" as PostConditionMode")})),u=tt(n,e.StacksMessageType.PostCondition),c=xe(n);return new mn(r,a,c,u,s,o,i)},e.deserializeTransactionAuthField=rn,e.emptyMessageSignature=Zt,e.encodeClarityValue=function(t,n){var r;switch((r=void 0!==t.id?t:Nn(t)).id){case e.ClarityAbiTypeId.ClarityAbiTypeUInt128:return lt(n);case e.ClarityAbiTypeId.ClarityAbiTypeInt128:return ft(n);case e.ClarityAbiTypeId.ClarityAbiTypeBool:if("false"===n||"0"===n)return dt();if("true"===n||"1"===n)return pt();throw new Error("Unexpected Clarity bool value: "+JSON.stringify(n));case e.ClarityAbiTypeId.ClarityAbiTypePrincipal:if(n.includes(".")){var i=n.split(".");return at(i[0],i[1])}return rt(n);case e.ClarityAbiTypeId.ClarityAbiTypeTraitReference:var a=n.split(".");return at(a[0],a[1]);case e.ClarityAbiTypeId.ClarityAbiTypeNone:return gt();case e.ClarityAbiTypeId.ClarityAbiTypeBuffer:return yt(Buffer.from(n,"utf8"));case e.ClarityAbiTypeId.ClarityAbiTypeStringAscii:return wt(n);case e.ClarityAbiTypeId.ClarityAbiTypeStringUtf8:return mt(n);case e.ClarityAbiTypeId.ClarityAbiTypeResponse:case e.ClarityAbiTypeId.ClarityAbiTypeOptional:case e.ClarityAbiTypeId.ClarityAbiTypeTuple:case e.ClarityAbiTypeId.ClarityAbiTypeList:throw new ge("Unsupported encoding for Clarity type: "+r.id);default:throw new Error("Unexpected Clarity type ID: "+JSON.stringify(r))}},e.estimateContractDeploy=Xn,e.estimateContractFunctionCall=Zn,e.estimateTransfer=zn,e.exceedsMaxLengthBytes=Lt,e.falseCV=dt,e.fetchPrivate=function(e,t){return Gt.apply(this,arguments)},e.getAbi=Dn,e.getAddressFromPrivateKey=function(t,n){return void 0===n&&(n=e.TransactionVersion.Mainnet),Z(ae(t).data,n)},e.getAddressFromPublicKey=Z,e.getCVTypeString=ct,e.getNonce=Kn,e.getPublicKey=de,e.getSignatureRecoveryParam=function(e){if(e.length<129)throw new Error("Invalid signature");var t=e.substr(0,2);return Ft(t)},e.getTypeString=Un,e.getTypeUnion=Nn,e.hash160=Rt,e.hashP2PKH=Vt,e.hashP2SH=jt,e.hexStringToInt=Ft,e.hexToCV=Jt,e.intCV=ft,e.intToHexString=Ut,e.isClarityAbiBuffer=kn,e.isClarityAbiList=On,e.isClarityAbiOptional=Mn,e.isClarityAbiPrimitive=Pn,e.isClarityAbiResponse=En,e.isClarityAbiStringAscii=xn,e.isClarityAbiStringUtf8=Bn,e.isClarityAbiTuple=In,e.isClarityName=Dt,e.isCompressed=ne,e.isSingleSig=sn,e.leftPadHex=It,e.leftPadHexToLength=Ot,e.listCV=bt,e.makeContractCall=function(e){return nr.apply(this,arguments)},e.makeContractDeploy=function(e){return $n.apply(this,arguments)},e.makeContractFungiblePostCondition=function(e,t,n,r,i){return Se(ze(e,t),n,r,i)},e.makeContractNonFungiblePostCondition=function(e,t,n,r,i){return be(ze(e,t),n,r,i)},e.makeContractSTXPostCondition=function(e,t,n,r){return Ce(ze(e,t),n,r)},e.makeRandomPrivKey=function(e){var t=new n.ec("secp256k1"),r={entropy:e||g.default(32)};return ue(t.genKeyPair(r).getPrivate().toString("hex",32))},e.makeSTXTokenTransfer=function(e){return Wn.apply(this,arguments)},e.makeSigHashPreSign=hn,e.makeStandardFungiblePostCondition=function(e,t,n,r){return Se(He(e),t,n,r)},e.makeStandardNonFungiblePostCondition=function(e,t,n,r){return be(He(e),t,n,r)},e.makeStandardSTXPostCondition=function(e,t,n){return Ce(He(e),t,n)},e.makeUnsignedContractCall=er,e.makeUnsignedSTXTokenTransfer=qn,e.nextSignature=Tn,e.nextVerification=Cn,e.noneCV=gt,e.omit=Ht,e.parseAssetInfoString=Xe,e.parsePrincipalString=Ke,e.parseReadOnlyResponse=Xt,e.parseRecoverableSignature=pe,e.parseToCV=function(e,t){var n=Un(t);if(Pn(t)){if("uint128"===t)return lt(e);if("int128"===t)return ft(e);if("bool"===t){if("true"===e.toLowerCase())return pt();if("false"===e.toLowerCase())return dt();throw new Error("Invalid bool value: "+e)}if("principal"===t){if(e.includes(".")){var r=e.split(".");return at(r[0],r[1])}return rt(e)}throw new Error("Contract function contains unsupported Clarity ABI type: "+n)}if(kn(t)){if(Buffer.from(e).byteLength>t.buffer.length)throw new Error("Input exceeds specified buffer length limit of "+t.buffer.length);return ht(e)}throw En(t)||Mn(t)||In(t)||On(t),new Error("Contract function contains unsupported Clarity ABI type: "+n)},e.privateKeyToString=function(e){return e.data.toString("hex")},e.pubKeyfromPrivKey=ae,e.publicKeyFromBuffer=te,e.publicKeyFromSignature=ee,e.publicKeyToAddress=fe,e.publicKeyToString=re,e.responseErrorCV=Ct,e.responseOkCV=St,e.rightPadHexToLength=Nt,e.serializeAddress=Fe,e.serializeAssetInfo=$e,e.serializeCV=kt,e.serializeLPList=et,e.serializeLPString=je,e.serializeMemoString=Je,e.serializeMessageSignature=Qt,e.serializeMultiSigSpendingCondition=pn,e.serializePostCondition=ve,e.serializePrincipal=_e,e.serializePublicKey=ie,e.serializeSingleSigSpendingCondition=cn,e.serializeSpendingCondition=ln,e.serializeStacksMessage=Be,e.serializeTransactionAuthField=nn,e.sha512_256=zt,e.signWithKey=ce,e.someCV=Tt,e.sponsorTransaction=function(e){return ir.apply(this,arguments)},e.standardPrincipalCV=rt,e.standardPrincipalCVFromAddress=it,e.stringAsciiCV=wt,e.stringUtf8CV=mt,e.trueCV=pt,e.tupleCV=vt,e.txidFromData=_t,e.uintCV=lt,e.validateContractCall=Ln,e.validateStacksAddress=function(e){try{return r.c32addressDecode(e),!0}catch(e){return!1}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=transactions.umd.production.min.js.map
